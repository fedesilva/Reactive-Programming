<!doctype html>
<html lang="es">

	<head>
		<meta charset="utf-8">

		<title>Reactive Programming - Introducción</title>

		<meta name="description" content="Introducción a la Reactive Programming">
		<meta name="author" content="Guillermo Polito">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<aside style="display: block; position: fixed; bottom: 20px; left: 20px; z-index: 30;">
		    <a href="http://www.pyxis.com.uy"><img src="assets/pyxis_color_96x35.png"></a>
		</aside>
		<aside style="display: block; position: fixed; bottom: 20px; left: 125px; z-index: 30;">
		    <a href="http://www.aquait.com.uy/"><img width="73px" style="margin-bottom: 6px;" src="assets/nuevo-logo-aquait-medium.png"></a>
		</aside>
		

		<div class="reveal">

			<div class="slides">
				<section>
					<h1>Reactive Programming</h1>
					<h3>Overview</h3>
					<br/>
					<h4>Guillermo Polito</h4>
					<p><small><a href="http://twitter.com/gpolito">@gpolito</a> / <a href="http://github.com/gpolito/Reactive-Programming">slides at github</a></small>
					</p>
				</section>

				<section>
					<h2>Why Reactive?</h2>
					<h3 class="fragment"> Some things have changed...</h3>
					<table class="fragment">
						<thead>
							<tr>
								<th></th>
								<th>Almost yesterday</th>
								<th>Today</th>
							</tr>
						</thead>
						<tbody>
							<tr class="fragment">
								<td>Server nodes</td>
								<td>10's</td>
								<td>1000's</td>
							</tr>
							<tr class="fragment">
								<td>RAM</td>
								<td>expensive</td>
								<td>cheap</td>
							</tr>
							<tr class="fragment">
								<td>Network</td>
								<td>slow</td>
								<td>fast</td>
							</tr>
							<tr class="fragment">
								<td>Data volume</td>
								<td>GBs</td>
								<td>TBs -> PBs</td>
							</tr>
							<tr class="fragment">
								<td>Response times</td>
								<td>seconds</td>
								<td>milliseconds</td>
							</tr>
							<tr class="fragment">
								<td>Maintenance downtimes</td>
								<td>hours</td>
								<td>none</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Why Reactive?</h2>
					<a class="fragment" href="http://internetlivestats.com/">internetlivestats.com</a>
				</section>

				<section>
					<h2>Why Reactive?</h2>
					<h3 class="fragment">Quick summary. In 10 years:</h3>
					<table class="fragment">
						<thead>
							<tr>
								<th></th>
								<th>2005</th>
								<th>2015</th>
							</tr>
						</thead>
						<tbody>
							<tr class="fragment">
								<td>Internet users</td>
								<td><span style="color: orange;">1000 millions</span></td>
								<td>3000 millions</td>
							</tr>
							<tr class="fragment">
								<td>YouTube</td>
								<td>was born on February, 2005</td>
								<td><span style="color: orange;">more than 1000 million users</span></td>
							</tr>
							<tr class="fragment">
								<td>Facebook</td>
								<td>5.5 million active users</td>
								<td><span style="color: orange;">1.380 million active users</span></td>
							</tr>
							<tr class="fragment">
								<td>Twitter</td>
								<td>wasn't born yet</td>
								<td>288 million active users</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h3>Why Reactive?</h3>
					<p>Today's demands are simply not met by yesterday’s software architectures</p>
					<p class="fragment">A new coherent approach to Systems Architecture is needed...</p>
				</section>

				<section data-background="#59CDEA">
					<h2 style="color: white;">Reactive Applications Traits</h2>
					<img style="border: none; box-shadow: none;" src="assets/reactive-traits.png" />
					<strong><a class="fragment" style="color: white;" href="http://reactivemanifesto.org/">reactivemanifesto.org</a></strong>
					<aside class="notes">
					Organisations working in disparate domains are independently discovering patterns for building software that look the same. These systems are more robust, more resilient, more flexible and better positioned to meet modern demands.
					These changes are happening because application requirements have changed dramatically in recent years. 
					It is time to apply these design principles consciously from the start instead of rediscovering them each time.
					</aside>
				</section>

				<!-- Responsive -->

				<section data-background="#C55300" data-background-transition="zoom">
					<h2>Responsive</h2>
					<blockquote style="color: white;">
						&ldquo;A responsive system is quick to react to all users — under blue skies and grey skies — in order to ensure a consistently positive user experience.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Responsive</h2>
						<p class="fragment" style="color: crimson;">isn't the same than Web Responsive Design!</p>
						<p class="fragment">Problems have to be detected quickly and dealt with effectively, to provide rapid and consistent response times.</p>
						<p class="fragment">It depends on, and is a consecuence of the traits: <p/>
						<p class="fragment"><em style="color: orange;">Resilient</em> and <em style="color: orange;">Elastic</em></p>
				</section>

				<!-- Resilience -->

				<section data-background="#C55300" data-background-transition="zoom">
					<h2>Resilient</h2>
					<blockquote style="color: white;">
						&ldquo;The ability of a sustance or object to spring back into shape.&rdquo;<br/>
						&ldquo;The capacity to recover quickly from difficulties.&rdquo;
					</blockquote>
					<p style="color: white;">Merriam Webster</p>
					<aside class="notes">Merriam–Webster Inc. de Springfield, Massachusetts, es una editorial estadounidense que publica libros de referencia, sobre todo diccionarios, que tienen su origen en el diccionario An American Dictionary of the English Language, de Noah Webster, publicado a su vez en 1828.</aside>
				</section>

				<section>
					<h2>Resilient</h2>
					<p class="fragment">The system should be responsive in the face of failure.</p>
					<p class="fragment" style="color: orange;">Failure != error</p>
					<p class="fragment"><br>Examples of failures:</p>
					<ul>
						<li class="fragment">program defects causing corrupted internal state</li>
						<li class="fragment">hardware malfunction</li>
						<li class="fragment">network failures</li>
						<li class="fragment">troubles with external services</li>
					</ul>
					<aside class="notes">
						A failure is an unexpected event within a service that prevents it from continuing to function normally. A failure will generally prevent responses to the current, and possibly all following, client requests. This is in contrast with an error, which is an expected and coded-for condition—for example an error discovered during input validation, that will be communicated to the client as part of the normal processing of the message. 
					</aside>
				</section>

				<section data-background="#FFFFFF">
					<h3 style="color: #002B36">Resilient - how? </h3>
					<h3 style="color: orange;">Failure Recovery in OOP</h3>
					<img style="border: none; box-shadow: none; width: 60%" src="assets/oo-graph.png" />
				</section>

				<section>
					<h3>Resilient - how? </h3>
					<h3 style="color: orange;">Failure Recovery in OOP </h3>
					<ul>
						<li class="fragment">single thread of control</li>
						<li class="fragment">if the thread blows up => you are screwed</li>
						<li class="fragment">no global organization of error handling </li> 
						<li class="fragment">defensive programming tangled with business logic, <br> scattered around the code</li>
					</ul>
				</section>

				<section>
					<h2 style="color: orange;">Resilience is by design</h2>
					<h2 class="fragment">ok... but how?</h2>
					<ol>
						<li class="fragment">containment</li> 
						<li class="fragment">delegation</li>
						<li class="fragment">isolation</li>
						<li class="fragment">replication</li>
					</ol>
					<br/>
					<br/>
					<p class="fragment"><em>let's review this concepts...</em></p>
					<aside class="notes">
						Cómo vamos a alcanzar la resiliencia? Contando con compartimientos que contengan a las fallas, y q aislen a los componentes entre si, permitiendo que partes del sistema puedan caerse y recuperarse sin comprometer al sistema entero.
						La recuperación de cada componente es delegado a otro componente externo. El cliente no es responsable de manejar las fallas.  
						La alta disponibilidad es asegurada replicando componentes donde sea necesario.
					</aside>
				</section>

				<section>
					<h3>Resilience is by design</h3>
					<h3 class="fragment">ok... but how?</h3>
					<ol>
						<li class="fragment" style="color: orange;"><strong>containment:</strong><br>
							<span class="fragment"><em style="color: pink;">=> bulkheads</em></span>
						</li> 
						<li class="fragment" style="color: orange;"><strong>delegation</strong><br>
							<span class="fragment"><em style="color: pink;">=> supervision</em></span>
						</li>
					</ol>
				</section>

				<section>
					<h3>Resilience is by design</h3>
					<h3 class="fragment">ok... but how?</h3>
					<ol start="3">
						<li class="fragment" style="color: orange;"> <strong>isolation (decoupling, both in time and space)</strong>
							<br>
							<span class="fragment" style="color: white;">
								<span style="color: skyblue">- in time:</span> 
								<br>sender and receiver don't need to be present at the same time for communicate
							</span>
							<br>
							<span class="fragment">
								<em style="color: pink;">=> message-driven arquitecture</em>
							</span> <br>
							<span class="fragment" style="color: white;">
								<span style="color: skyblue">- in space (defined as <em>Location Transparency</em>):</span> 
								<br>the sender and receiver don't have to run in the same process, and this might change during application's lifetime
							</span> <br>
							<span class="fragment">
								<em style="color: pink;">=> message-driven arquitecture</em>
							</span>	
						</li>
						<li class="fragment" style="color: orange;"><strong>replication:</strong><br>
							<span class="fragment"><em style="color: pink;">=> circuit breakers (design pattern)</em></span>
						</li>
					</ol>
				</section>

				<section data-background="assets/ship.png" data-background-repeat="repeat" data-background-size="1200px">
					<h1 style="color : black;">Bulkheads</h1>
				</section>

				<section>
					<h2>Bulkheads help us to:</h2>
					<ol>
						<li class="fragment"><em>isolate the failure</em></li>
						<li class="fragment"><em>compartmentalize</em></li>
						<li class="fragment"><em>manage failure locally</em></li>
						<li class="fragment"><em>avoid cascading failures</em></li>
					</ol>
					<br>
					<br>
					<p class="fragment">this concept should be used together with <span style="color: orange;">supervison!</span></p>
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Supervison</h2>
					<h3 class="fragment" style="color: orange;">Core Concept</h3>
					<img class="fragment" style="border: none; box-shadow: none;" src="assets/supervisor-1.png">
					<aside class="notes">
						Supervision means that normal requests and responses (including negative ones such as validation errors) flow separately from failures: while the former are exchanged between the user and the service, the latter travel from the service to its supervisor.
					</aside>
				</section>

				<section>
					<h2>Supervisor hierarchies with Actors</h2>
					<img style="border: none; box-shadow: none;" src="assets/supervisor-h-1.png">
				</section>

				<section>
					<h2>Supervisor hierarchies with Actors</h2>
					<img style="border: none; box-shadow: none;" src="assets/supervisor-h-2.png">
					<p class="fragment" style="color: orange;"><em>we'll see later how to configure it in Akka...</em></p>
				</section>

				<section>
					<h2>Circuit Breaker</h2>
					<h3 style="color: orange;">PROBLEM - Example Situation</h3>
					<ul>
						<li class="fragment">web app interacting with a remote WS</li>
						<li class="fragment">remote WS is overloaded, and its DB takes a long time to respond with a fail</li>
						<li class="fragment">=> WS calls fail after a long period of time</li>
						<li class="fragment">=> web users noticed that form submissions takes time to complete</li>
						<li class="fragment">=> web users start to click the refresh button adding more requests!</li>
						<li class="fragment">=> web app fails due to resource exhaustion, affecting all users across the site</li>
					</ul>
					<p class="fragment" style="color: orange;"><em>failures in external dependencies shouldn' t bring down an entire app</em></p>
				</section>

				<section>
					<h2>Circuit Breaker</h2>
					<h3 style="color: orange;">Solution Proposal</h3>
					<ol>
						<li class="fragment">monitor response times</li>
						<li class="fragment">if time consistently rises above a threshold, either:</li>
							<ol type="a">
								<li class="fragment"><em>fail fast</em> approach, or...</li>
								<li class="fragment">route following requests to an alternative service</li>
							</ol>
						<li class="fragment">monitor the original service</li>
						<li class="fragment"><em>if the service is back in shape</em>, restore to the original state</li>
						<li class="fragment"><em>if not</em>, continue with the same approach</li>
					</ol>
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
					<ul>
						<li class="fragment">implements <em>fail fast</em> approach</li>
						<li class="fragment">provide stability</li>
						<li class="fragment">prevent cascading failures in distributed systems</li>
					</ul>
					<img class="fragment" style="border: none; box-shadow: none;" src="assets/circuit-breaker-states.png">
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
					<h3 style="color: #009B77">configuration</h3>
					<ul>
						<li class="fragment"><em>max. number of failures</em></li>
						<li class="fragment"><em>call timeout</em>: response time threshold</li>
						<li class="fragment"><em>reset timeout</em>: we'll see this later</li>
					</ul>
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
					<h3 style="color: #009B77">Closed state (normal operation)</h3>
					<img class="fragment" style="border: none; box-shadow: none;" src="assets/circuit-breaker-states.png">
					<ul>
						<li class="fragment">Exceptions or calls exceeding the configured <em>callTimeout</em> increment a failure counter</li>
						<li class="fragment">Successes reset the failure count to 0</li>
						<li class="fragment">When the failure counter reaches a <em>maxFailures</em> count, the breaker is tripped into <em>Open State</em></li>
					</ul>
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
					<h3 style="color: #009B77">Open State</h3>
					<img class="fragment" style="border: none; box-shadow: none;" src="assets/circuit-breaker-states.png">
					<ul>
						<li class="fragment">All calls fail-fast with a <em>CircuitBreakerOpenException</em></li>
						<li class="fragment">After the configured <em>resetTimeout</em>, the circuit breaker enters a <em>Half-Open State</em></li>
					</ul>
				</section>

				<section data-background="#FFFFFF">
					<h2 style="color: #002B36">Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
					<h3 style="color: #009B77">Half-Open State</h3>
					<img class="fragment" style="border: none; box-shadow: none;" src="assets/circuit-breaker-states.png">
					<ul>
						<li class="fragment">The first call attempted is allowed through without failing fast</li>
						<li class="fragment">All other calls fail-fast with an exception just as in <em>Open state</em></li>
						<li class="fragment">If the first call succeeds, the breaker is reset back to <em>Closed state</em></li>
						<li class="fragment">If the first call fails, the breaker is tripped again into the <em>Open state</em> for another full <em>resetTimeout</em></li>
					</ul>
				</section>

				<section>
					<h2>Circuit Breaker</h2>
					<h3 style="color: orange;">Akka Implementation</h3>
				    <pre><code contenteditable>
import akka.pattern.CircuitBreaker
 
val breaker =
  CircuitBreaker(system.scheduler, 
    maxFailures = 5, 
    callTimeout = 10.seconds, 
    resetTimeout = 1.minute)
 
def dangerous: Future[String] = 
	breaker.withCircuitBreaker(Future(dangerousCall))
 
def dangerousCall: String = "This really isn't that dangerous"

					</code></pre>
				</section>

				<section>
					<h2>Event-driven Resiliency</h2>
					<p>Una arquitectura basada en eventos nos brinda la base necesaria para implementar este modelo de manejo de fallas:</p>
					<ul>
						<li class="fragment"><strong>Isolation:</strong></li>
						<p class="fragment">- necesario para que un sistema se pueda auto-recuperar</p>
						<p class="fragment">- fallo en un componente aislado no impacta el <strong>responsiveness</strong> de todo el sistema, dando chance además para que se auto-recupere</p>
						<li class="fragment"><strong>Location Transparency:</strong></li>
						<p class="fragment">permite trabajar con referencias a componentes, independientemente de si éstos están deployados en el mismo nodo o no </p>
						<li class="fragment"><strong>Dedicated separate error channel:</strong></li>
						<p class="fragment">permite redireccionar una señal de error a un lugar específico, en lugar de reenviarla al proceso 'llamante'</p>
					</ul>
				</section>


				<!-- Scalable -->
				<section data-background="#C55300" data-background-transition="zoom">
					<h2>Scalable</h2>
					<blockquote style="color: white;">
						&ldquo;capable of being easily expanded or upgraded on demand.&rdquo;
					</blockquote>
					<p style="color: white;">Merriam Webster</p>
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Qué significa?</h3>
					<ul>
						<li class="fragment">capacidad de expandirse/contraerse de acuerdo a su uso</li>
						<li class="fragment">es necesario hacer <em>elásticas</em> las aplicaciones bajo demanda, permitiendo:</li>
						<p class="fragment">- agregar o quitar nodos- <strong>scale out/in</strong></p>
						<p class="fragment">- obtener o liberar CPUs en cada nodo - <strong>scale up/down</strong></p>
					</ul>
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Por qué es necesario?</h3>
					<ul>
						<li class="fragment">por ejemplo: en el dominio eCommerce:</li>
						<p class="fragment">- los picos de tráfico mas altos se dan cuando cuando estás vendiendo bien</p>
						<p class="fragment">- durante un pico de tráfico la gente basicamente <em>quiere darte su dinero</em> :) </p>
					</ul>
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Cómo lo logramos?</h3>
					<ul>
						<li class="fragment">primero se debe elegir el paradigma a utilizar...</li>
						<li class="fragment">... y luego el/los lenguaje/s y las herramientas sobre las que se va a construir</li>
						<li class="fragment">usualmente se hace lo contrario, y una vez que las decisiones técnicas están tomadas es muy dificil de revertir el cambio de paradigma</li>
					</ul>
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Modelos de Concurrencia</h3>
					<ul>
						<li class="fragment">Threads-based Concurrency and Shared Memory</li>
						<li class="fragment">Message-driven Concurrency</li>
					</ul>
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Modelos de Concurrencia</h3>
					<h3>Threads-based Concurrency and Shared Memory</h3>
					<ul>
						<li class="fragment">frameworks MVC populares como Ruby on Rails son thread-based.</li>
						<li class="fragment">comparten estado/datos mutables</li>
						<li class="fragment">un thread por request</li>
						<li class="fragment">acceso concurrente a datos mutables (variables y objetos) mutuo excluidos con locks y otros complicados mecanismos de sincronización</li>
						<li class="fragment">thread safety: dificil de testear y asegurar</li>
					</ul>
				</section>

				<section>
					<h3>Ley de Amdahl</h3>
					<img src="assets/amdahl.png">
				</section>

				<section>
					<h2>Scalability</h2>
					<h3>Modelos de Concurrencia</h3>
					<h3>Message-driven Concurrency</h3>
					<ul>
						<li class="fragment">sistemas orientados a eventos basados en pasaje de mensajes asincrónicos permiten:</li>
						<p class="fragment">- bajo acoplamiento e independencia de localización <strong>(location transparency)</strong> entre componentes</p>
						<p class="fragment">- <strong>scale out</strong> del sistema hacia otros nodos, agregando instancias para incrementar el procesamiento de los eventos</p>
						<p class="fragment">- <strong>scale up</strong> del sistema hacia otros cores, agregando instancias para incrementar el procesamiento de los eventos</p>
						<p class="fragment">- <strong>scale up & scale out</strong>: no tienen diferencias a nivel de código! la topología del sistema se configura aparte</p>
					</ul>
				</section>

				<!-- Event Driven -->
				<section data-background="#C55300" data-background-transition="zoom">
					<h2>Event Driven</h2>
					<blockquote style="color: white;">
						&ldquo;The flow of the program is determined by events.&rdquo;
					</blockquote>
					<p style="color: white;">Wikipedia</p>
				</section>

				<section>
					<h2>Event Driven</h2>
					<h3>Por qué es importante?</h3>
					<p class="fragment">la comunicación asincrónica basada en pasaje de mensajes otorga:</p>
					<ul>
						<li class="fragment"><strong>bajo acoplamiento entre componentes</strong></li>
						<li class="fragment"><strong>mantenibilidad y flexibilidad para evolucionar</strong> - interfaces enfocadas en el contenido de la comunicación</li>
						<li class="fragment"><strong>lower latency & higher throughput</strong> - componentes receptores de eventos permanecen 'idle' mientras no reciban eventos, permitiendo a los demas receptores utilizar el mismo thread</li>
						<li class="fragment"><strong>scale up & out</strong> - dinamicamente agregar/quitar componentes receptores de eventos en la misma maquina o en nuevos nodos</li>
					</ul>
				</section>

				<section data-background="#C55300" data-background-transition="zoom">
					<h1>Conclusión</h1>
					<ul>
						<li class="fragment" style="color: white;">vimos a grandes rasgos lo que implica desarrollar aplicaciones con los requerimientos del "hoy"</li>
						<li class="fragment" style="color: white;">vimos que la Programación Reactiva no es solo una tecnología más, sino que es ÉL paradigma para desarrollar dichas aplicaciones</li>
						<li class="fragment" style="color: white;">independientemente del languaje o framework a utilizar, la escalibilidad y la resilencia deben ser prioritarios con el fin de alzanzar la "responsiveness" que esperan los usuarios</li>
						<li class="fragment" style="color: white;">arquitecturas basadas en eventos no bloqueantes y asincrónicos proveen la base para alcanzar la escabilidad y resiliencia necesaria</li>
					</ul>
				</section>

				<section>
					<h1>Referencias</h1>
						<p><a href="http://reactivemanifesto.org/">reactivemanifesto.org</a></p>
						<p><a href="https://typesafe.com">typesafe.com</a></p>
						<p><a href="https://medium.com/reactive-programming/what-is-reactive-programming-bc9fa7f4a7fc">Kevin Webber - What is Reactive Programming?</a></p>
						<p><a href="http://www.slideshare.net/jboner/going-reactive-eventdriven-scalable-resilient-systems">Jonas Boner - Go Reactive: Event-Driven, Scalable, Resilient & Responsive Systems</a></p>
						<p><a href="http://internetlivestats.com/">internetlivestats.com</a></p>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				mouseWheel: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
